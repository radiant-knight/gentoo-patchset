--- a/meson.build
+++ b/meson.build
@@ -995,7 +995,7 @@
 if not cc.links('''#include <stdint.h>
                    int main() {
                      char i;
-                     __atomic_exchange_1(&i, 1, 0);
+                     __atomic_exchange_n(&i, 1, 0);
                      return 1;
                    }''',
                 name : 'Atomic builtin requires -latomic')
